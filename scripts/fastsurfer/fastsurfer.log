=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:18:07 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1326/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1326/mri/orig.mgz --brainmask_name /output/1326/mri/mask.mgz --aseg_name /output/1326/mri/aseg.auto_noCCseg.mgz --sid 1326 --seg_log /output/1326/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1326/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1326/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.7999979x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6661999225616455
rescale:  min: 0.0  max: 1.5429011583328247  scale: 165.2730627770992
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1326/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 3.0658 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.9749 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.8451 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1326/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  37960
  Found 1 connected component(s)!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1326/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1326/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.17
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1326/mri/orig.mgz --rescale /output/1326/mri/orig_nu.mgz --aseg /output/1326/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1326/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1326/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1326/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 180.85
- m: 0.5640
converting rescaled to UCHAR
writing PosixPath: /output/1326/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1326/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1326/stats/aseg+DKT.stats --normfile /output/1326/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1326 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1326/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1326/stats/aseg+DKT.stats.
Calculation took 2.71 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1326/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1326/mri/orig.mgz --cereb_segfile /output/1326/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1326/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1326/mri/orig_nu.mgz --cereb_statsfile /output/1326/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:19:23
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.7999979x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6661999225616455
rescale:  min: 0.0  max: 1.5429011583328247  scale: 165.2730627770992
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1326/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 8.02 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1326 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1326/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1326/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1326
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1326
[INFO: run_prediction.py:  286]: T1 image input /output/1326/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1326/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1326
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1326 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1326 finished in 3.0090 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1326 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1326 finished in 2.7960 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1326 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1326 finished in 3.3205 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.3898 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1326
[INFO: img_processing_utils.py:  230]: Check Optic Labels
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.985157489776611 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1326/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1326/stats/hypothalamus.HypVINN.stats.
Calculation took 0.25 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.3604 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.4000 seconds.
Input:    min: 3  max: 161
rescale:  min: 3.0  max: 141.724  scale: 1.8381822900147056
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:19:54 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/2195/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/2195/mri/orig.mgz --brainmask_name /output/2195/mri/mask.mgz --aseg_name /output/2195/mri/aseg.auto_noCCseg.mgz --sid 2195 --seg_log /output/2195/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/2195/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/2195/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.7999979x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6335999965667725
rescale:  min: 0.0  max: 1.515980839729309  scale: 168.20793067907925
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/2195/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.9274 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.9599 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.8058 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/2195/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  31452
  Found 3 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/2195/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/2195/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.0
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/2195/mri/orig.mgz --rescale /output/2195/mri/orig_nu.mgz --aseg /output/2195/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/2195/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/2195/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/2195/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 224.13
- m: 0.4551
converting rescaled to UCHAR
writing PosixPath: /output/2195/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/2195/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/2195/stats/aseg+DKT.stats --normfile /output/2195/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 2195 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/2195/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/2195/stats/aseg+DKT.stats.
Calculation took 2.49 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/2195/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/2195/mri/orig.mgz --cereb_segfile /output/2195/mri/cerebellum.CerebNet.nii.gz --seg_log /output/2195/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/2195/mri/orig_nu.mgz --cereb_statsfile /output/2195/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:21:08
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.7999979x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6335999965667725
rescale:  min: 0.0  max: 1.515980839729309  scale: 168.20793067907925
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/2195/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.98 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 2195 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/2195/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/2195/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 2195
[INFO: run_prediction.py:  285]: Output will be stored in: /output/2195
[INFO: run_prediction.py:  286]: T1 image input /output/2195/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/2195/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 2195
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 2195 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 2195 finished in 2.9593 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 2195 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 2195 finished in 2.7311 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 2195 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 2195 finished in 3.3611 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.1225 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/2195
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.93489146232605 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/2195/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/2195/stats/hypothalamus.HypVINN.stats.
Calculation took 0.27 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.0398 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.0798 seconds.
Input:    min: 3  max: 160
rescale:  min: 3.0  max: 128.757  scale: 2.0277201269114244
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:21:39 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1076/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1076/mri/orig.mgz --brainmask_name /output/1076/mri/mask.mgz --aseg_name /output/1076/mri/aseg.auto_noCCseg.mgz --sid 1076 --seg_log /output/1076/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1076/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1076/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.800003x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6390999555587769
rescale:  min: 0.0  max: 1.5014156103134155  scale: 169.83971543147177
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1076/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.9356 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.9304 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.7784 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1076/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  36704
  Found 1 connected component(s)!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1076/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 1 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1076/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.06
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1076/mri/orig.mgz --rescale /output/1076/mri/orig_nu.mgz --aseg /output/1076/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1076/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1076/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1076/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 187.03
- m: 0.5454
converting rescaled to UCHAR
writing PosixPath: /output/1076/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1076/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1076/stats/aseg+DKT.stats --normfile /output/1076/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1076 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1076/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1076/stats/aseg+DKT.stats.
Calculation took 2.54 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1076/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1076/mri/orig.mgz --cereb_segfile /output/1076/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1076/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1076/mri/orig_nu.mgz --cereb_statsfile /output/1076/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:22:52
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.800003x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6390999555587769
rescale:  min: 0.0  max: 1.5014156103134155  scale: 169.83971543147177
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1076/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 8.12 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1076 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1076/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1076/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1076
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1076
[INFO: run_prediction.py:  286]: T1 image input /output/1076/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1076/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1076
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1076 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1076 finished in 2.9368 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1076 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1076 finished in 2.7660 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1076 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1076 finished in 3.3202 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.1255 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1076
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.983614206314087 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1076/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1076/stats/hypothalamus.HypVINN.stats.
Calculation took 0.26 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.1159 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.1562 seconds.
Input:    min: 3  max: 154
rescale:  min: 3.0  max: 139.80599999999998  scale: 1.8639533353800275
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:23:23 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1042/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1042/mri/orig.mgz --brainmask_name /output/1042/mri/mask.mgz --aseg_name /output/1042/mri/aseg.auto_noCCseg.mgz --sid 1042 --seg_log /output/1042/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1042/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1042/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.7999979x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6646000146865845
rescale:  min: 0.0  max: 1.5264382362365723  scale: 167.05556369493308
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1042/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.9392 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.9711 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.7675 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1042/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  41159
  Found 2 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1042/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1042/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.19
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1042/mri/orig.mgz --rescale /output/1042/mri/orig_nu.mgz --aseg /output/1042/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1042/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1042/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1042/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 183.77
- m: 0.5551
converting rescaled to UCHAR
writing PosixPath: /output/1042/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1042/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1042/stats/aseg+DKT.stats --normfile /output/1042/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1042 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1042/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1042/stats/aseg+DKT.stats.
Calculation took 2.75 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1042/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1042/mri/orig.mgz --cereb_segfile /output/1042/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1042/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1042/mri/orig_nu.mgz --cereb_statsfile /output/1042/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:24:37
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.7999979x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6646000146865845
rescale:  min: 0.0  max: 1.5264382362365723  scale: 167.05556369493308
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1042/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.75 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1042 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1042/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1042/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1042
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1042
[INFO: run_prediction.py:  286]: T1 image input /output/1042/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1042/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1042
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1042 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1042 finished in 2.9588 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1042 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1042 finished in 2.7615 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1042 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1042 finished in 3.2957 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.1242 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1042
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.964925527572632 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1042/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1042/stats/hypothalamus.HypVINN.stats.
Calculation took 0.26 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.0893 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.1354 seconds.
Input:    min: 3  max: 164
rescale:  min: 3.0  max: 146.773  scale: 1.7736292627962136
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:25:08 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1508/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1508/mri/orig.mgz --brainmask_name /output/1508/mri/mask.mgz --aseg_name /output/1508/mri/aseg.auto_noCCseg.mgz --sid 1508 --seg_log /output/1508/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1508/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1508/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (233, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : True
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.79 0.11 0.1 ] [-0.11 0.79 -0.01] [-0.11 -0. 0.79]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6661999225616455
rescale:  min: 0.0  max: 1.5628955364227295  scale: 163.15869746717865
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1508/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.9431 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.9994 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.8034 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1508/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  40424
  Found 7 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1508/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1508/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.24
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1508/mri/orig.mgz --rescale /output/1508/mri/orig_nu.mgz --aseg /output/1508/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1508/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1508/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1508/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 180.48
- m: 0.5652
converting rescaled to UCHAR
writing PosixPath: /output/1508/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1508/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1508/stats/aseg+DKT.stats --normfile /output/1508/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1508 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1508/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1508/stats/aseg+DKT.stats.
Calculation took 3.51 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1508/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1508/mri/orig.mgz --cereb_segfile /output/1508/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1508/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1508/mri/orig_nu.mgz --cereb_statsfile /output/1508/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:26:22
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (233, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8000001x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.79 0.11 0.1 ] [-0.11 0.79 -0.01] [-0.11 -0. 0.79]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6661999225616455
rescale:  min: 0.0  max: 1.5628955364227295  scale: 163.15869746717865
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1508/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.83 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1508 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1508/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1508/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1508
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1508
[INFO: run_prediction.py:  286]: T1 image input /output/1508/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1508/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1508
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1508 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1508 finished in 2.9434 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1508 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1508 finished in 2.8089 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1508 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1508 finished in 3.3565 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.2512 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1508
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.9523539543151855 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1508/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1508/stats/hypothalamus.HypVINN.stats.
Calculation took 0.28 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.2155 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.2542 seconds.
Input:    min: 3  max: 159
rescale:  min: 3.0  max: 140.748  scale: 1.851206551093301
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:26:53 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1071/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1071/mri/orig.mgz --brainmask_name /output/1071/mri/mask.mgz --aseg_name /output/1071/mri/aseg.auto_noCCseg.mgz --sid 1071 --seg_log /output/1071/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1071/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1071/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.800003x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6625999212265015
rescale:  min: 0.0  max: 1.5578560829162598  scale: 163.68649376304882
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1071/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.9263 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8057 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6446 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1071/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  38516
  Found 20 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1071/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1071/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.1
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1071/mri/orig.mgz --rescale /output/1071/mri/orig_nu.mgz --aseg /output/1071/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1071/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1071/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1071/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 236.08
- m: 0.4321
converting rescaled to UCHAR
writing PosixPath: /output/1071/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1071/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1071/stats/aseg+DKT.stats --normfile /output/1071/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1071 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1071/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1071/stats/aseg+DKT.stats.
Calculation took 4.13 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1071/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1071/mri/orig.mgz --cereb_segfile /output/1071/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1071/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1071/mri/orig_nu.mgz --cereb_statsfile /output/1071/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:28:09
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.800003x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6625999212265015
rescale:  min: 0.0  max: 1.5578560829162598  scale: 163.68649376304882
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1071/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 8.18 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1071 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1071/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1071/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1071
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1071
[INFO: run_prediction.py:  286]: T1 image input /output/1071/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1071/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1071
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1071 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1071 finished in 2.9130 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1071 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1071 finished in 2.7184 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1071 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1071 finished in 3.2008 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 9.9238 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1071
[INFO: img_processing_utils.py:  230]: Check Optic Labels
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.952342510223389 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1071/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1071/stats/hypothalamus.HypVINN.stats.
Calculation took 0.27 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 18.8938 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 18.9413 seconds.
Input:    min: 3  max: 171
rescale:  min: 3.0  max: 154.704  scale: 1.6809049201075779
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:28:40 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1241/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1241/mri/orig.mgz --brainmask_name /output/1241/mri/mask.mgz --aseg_name /output/1241/mri/aseg.auto_noCCseg.mgz --sid 1241 --seg_log /output/1241/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1241/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1241/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.7999979x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6664999723434448
rescale:  min: 0.0  max: 1.5765089988708496  scale: 161.74979031685822
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1241/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8147 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8325 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6309 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1241/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  41769
  Found 1 connected component(s)!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1241/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 3 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1241/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.15
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1241/mri/orig.mgz --rescale /output/1241/mri/orig_nu.mgz --aseg /output/1241/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1241/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1241/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1241/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 192.79
- m: 0.5291
converting rescaled to UCHAR
writing PosixPath: /output/1241/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1241/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1241/stats/aseg+DKT.stats --normfile /output/1241/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1241 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1241/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1241/stats/aseg+DKT.stats.
Calculation took 2.64 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1241/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1241/mri/orig.mgz --cereb_segfile /output/1241/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1241/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1241/mri/orig_nu.mgz --cereb_statsfile /output/1241/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:29:53
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.7999979x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6664999723434448
rescale:  min: 0.0  max: 1.5765089988708496  scale: 161.74979031685822
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1241/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.90 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1241 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1241/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1241/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1241
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1241
[INFO: run_prediction.py:  286]: T1 image input /output/1241/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1241/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1241
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1241 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1241 finished in 2.9459 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1241 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1241 finished in 2.7401 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1241 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1241 finished in 3.2494 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.0585 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1241
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.948129892349243 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1241/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1241/stats/hypothalamus.HypVINN.stats.
Calculation took 0.27 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.0080 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.0484 seconds.
Input:    min: 3  max: 157
rescale:  min: 3.0  max: 144.834  scale: 1.7978763907102668
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:30:24 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1003/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1003/mri/orig.mgz --brainmask_name /output/1003/mri/mask.mgz --aseg_name /output/1003/mri/aseg.auto_noCCseg.mgz --sid 1003 --seg_log /output/1003/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1003/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1003/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.80006284x0.8000001x0.8000001
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 0.03 -0.06] [-0.03 0.8 0. ] [ 0.06 0. 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6648999452590942
rescale:  min: 0.0  max: 1.5483568906784058  scale: 164.69071280347575
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1003/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8082 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8462 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6317 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1003/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  37204
  Found 7 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1003/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 10 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1003/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.08
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1003/mri/orig.mgz --rescale /output/1003/mri/orig_nu.mgz --aseg /output/1003/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1003/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1003/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1003/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 205.87
- m: 0.4955
converting rescaled to UCHAR
writing PosixPath: /output/1003/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1003/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1003/stats/aseg+DKT.stats --normfile /output/1003/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1003 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1003/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1003/stats/aseg+DKT.stats.
Calculation took 3.25 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1003/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1003/mri/orig.mgz --cereb_segfile /output/1003/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1003/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1003/mri/orig_nu.mgz --cereb_statsfile /output/1003/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:31:40
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.80006284x0.8000001x0.8000001
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 0.03 -0.06] [-0.03 0.8 0. ] [ 0.06 0. 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6648999452590942
rescale:  min: 0.0  max: 1.5483568906784058  scale: 164.69071280347575
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1003/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.86 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1003 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1003/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1003/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1003
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1003
[INFO: run_prediction.py:  286]: T1 image input /output/1003/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1003/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1003
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1003 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1003 finished in 2.8803 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1003 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1003 finished in 2.7279 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1003 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1003 finished in 3.2946 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 9.9580 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1003
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.927105903625488 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1003/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1003/stats/hypothalamus.HypVINN.stats.
Calculation took 0.28 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 18.9060 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 18.9484 seconds.
Input:    min: 3  max: 162
rescale:  min: 3.0  max: 149.757  scale: 1.7375661808295344
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:32:10 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1301/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1301/mri/orig.mgz --brainmask_name /output/1301/mri/mask.mgz --aseg_name /output/1301/mri/aseg.auto_noCCseg.mgz --sid 1301 --seg_log /output/1301/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1301/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1301/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.800036x0.79999995x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 8.00e-01 -2.16e-02 -2.79e-03] [ 2.18e-02 7.93e-01 1.03e-01] [ 2.74e-06 -1.03e-01 7.93e-01]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6662999391555786
rescale:  min: 0.0  max: 1.5413274765014648  scale: 165.4418051242452
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1301/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8313 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8485 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6860 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1301/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  35211
  Found 1 connected component(s)!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1301/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1301/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.04
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1301/mri/orig.mgz --rescale /output/1301/mri/orig_nu.mgz --aseg /output/1301/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1301/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1301/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1301/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 177.63
- m: 0.5742
converting rescaled to UCHAR
writing PosixPath: /output/1301/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1301/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1301/stats/aseg+DKT.stats --normfile /output/1301/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1301 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1301/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1301/stats/aseg+DKT.stats.
Calculation took 2.46 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1301/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1301/mri/orig.mgz --cereb_segfile /output/1301/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1301/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1301/mri/orig_nu.mgz --cereb_statsfile /output/1301/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:33:23
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.800036x0.79999995x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 8.00e-01 -2.16e-02 -2.79e-03] [ 2.18e-02 7.93e-01 1.03e-01] [ 2.74e-06 -1.03e-01 7.93e-01]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6662999391555786
rescale:  min: 0.0  max: 1.5413274765014648  scale: 165.4418051242452
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1301/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.84 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1301 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1301/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1301/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1301
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1301
[INFO: run_prediction.py:  286]: T1 image input /output/1301/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1301/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1301
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1301 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1301 finished in 2.9165 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1301 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1301 finished in 2.7408 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1301 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1301 finished in 3.2201 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 9.9638 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1301
[INFO: img_processing_utils.py:  230]: Check Optic Labels
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.892560005187988 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1301/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1301/stats/hypothalamus.HypVINN.stats.
Calculation took 0.25 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 18.8448 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 18.8887 seconds.
Input:    min: 3  max: 156
rescale:  min: 3.0  max: 141.771  scale: 1.8375597206909227
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:33:53 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1001/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1001/mri/orig.mgz --brainmask_name /output/1001/mri/mask.mgz --aseg_name /output/1001/mri/aseg.auto_noCCseg.mgz --sid 1001 --seg_log /output/1001/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1001/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1001/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (210, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.8000094x0.8000001x0.8000001
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 0.06 0.05] [-0.06 0.8 0. ] [-0.05 -0. 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.666599988937378
rescale:  min: 0.0  max: 1.5582709312438965  scale: 163.64291657320794
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1001/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8660 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.9154 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6960 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1001/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  38617
  Found 7 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1001/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1001/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.13
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1001/mri/orig.mgz --rescale /output/1001/mri/orig_nu.mgz --aseg /output/1001/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1001/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1001/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1001/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 190.61
- m: 0.5351
converting rescaled to UCHAR
writing PosixPath: /output/1001/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1001/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1001/stats/aseg+DKT.stats --normfile /output/1001/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1001 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1001/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1001/stats/aseg+DKT.stats.
Calculation took 3.25 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1001/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1001/mri/orig.mgz --cereb_segfile /output/1001/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1001/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1001/mri/orig_nu.mgz --cereb_statsfile /output/1001/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:35:06
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (210, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8000094x0.8000001x0.8000001
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 0.06 0.05] [-0.06 0.8 0. ] [-0.05 -0. 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.666599988937378
rescale:  min: 0.0  max: 1.5582709312438965  scale: 163.64291657320794
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1001/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.40 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1001 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1001/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1001/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1001
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1001
[INFO: run_prediction.py:  286]: T1 image input /output/1001/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1001/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1001
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1001 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1001 finished in 2.9896 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1001 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1001 finished in 2.7839 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1001 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1001 finished in 3.3375 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.2478 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1001
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.915475130081177 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1001/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1001/stats/hypothalamus.HypVINN.stats.
Calculation took 0.27 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.1332 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.1787 seconds.
Input:    min: 3  max: 153
rescale:  min: 3.0  max: 139.79999999999998  scale: 1.8640350877192984
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:35:37 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1107/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1107/mri/orig.mgz --brainmask_name /output/1107/mri/mask.mgz --aseg_name /output/1107/mri/aseg.auto_noCCseg.mgz --sid 1107 --seg_log /output/1107/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1107/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1107/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (198, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.7999827x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 0.04 0.06] [-0.02 0.77 -0.21] [-0.07 0.21 0.77]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6287000179290771
rescale:  min: 0.0  max: 1.5130623579025269  scale: 168.53237982437957
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1107/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.9285 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.9274 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.7526 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1107/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  36712
  Found 18 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1107/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1107/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 0.98
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1107/mri/orig.mgz --rescale /output/1107/mri/orig_nu.mgz --aseg /output/1107/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1107/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1107/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1107/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 210.54
- m: 0.4845
converting rescaled to UCHAR
writing PosixPath: /output/1107/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1107/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1107/stats/aseg+DKT.stats --normfile /output/1107/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1107 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1107/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1107/stats/aseg+DKT.stats.
Calculation took 2.83 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1107/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1107/mri/orig.mgz --cereb_segfile /output/1107/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1107/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1107/mri/orig_nu.mgz --cereb_statsfile /output/1107/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:36:50
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (198, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.7999827x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 0.04 0.06] [-0.02 0.77 -0.21] [-0.07 0.21 0.77]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6287000179290771
rescale:  min: 0.0  max: 1.5130623579025269  scale: 168.53237982437957
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1107/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.35 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1107 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1107/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1107/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1107
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1107
[INFO: run_prediction.py:  286]: T1 image input /output/1107/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1107/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1107
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1107 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1107 finished in 2.8820 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1107 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1107 finished in 2.6725 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1107 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1107 finished in 3.2610 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 9.9288 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1107
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.935065031051636 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1107/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1107/stats/hypothalamus.HypVINN.stats.
Calculation took 0.25 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 18.8111 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 18.8506 seconds.
Input:    min: 3  max: 157
rescale:  min: 3.0  max: 135.748  scale: 1.9209328954108538
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:37:19 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1125/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1125/mri/orig.mgz --brainmask_name /output/1125/mri/mask.mgz --aseg_name /output/1125/mri/aseg.auto_noCCseg.mgz --sid 1125 --seg_log /output/1125/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1125/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1125/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (216, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.8000064x0.8000001x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 0.04 0.03] [-0.04 0.8 -0. ] [-0.03 0. 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6660999059677124
rescale:  min: 0.0  max: 1.5678000450134277  scale: 162.64829230682668
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1125/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8130 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8200 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6361 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1125/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  32521
  Found 4 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1125/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1125/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 0.94
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1125/mri/orig.mgz --rescale /output/1125/mri/orig_nu.mgz --aseg /output/1125/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1125/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1125/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1125/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 194.88
- m: 0.5234
converting rescaled to UCHAR
writing PosixPath: /output/1125/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1125/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1125/stats/aseg+DKT.stats --normfile /output/1125/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1125 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1125/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1125/stats/aseg+DKT.stats.
Calculation took 3.09 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1125/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1125/mri/orig.mgz --cereb_segfile /output/1125/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1125/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1125/mri/orig_nu.mgz --cereb_statsfile /output/1125/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:38:32
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (216, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8000064x0.8000001x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 0.04 0.03] [-0.04 0.8 -0. ] [-0.03 0. 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6660999059677124
rescale:  min: 0.0  max: 1.5678000450134277  scale: 162.64829230682668
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1125/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.46 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1125 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1125/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1125/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1125
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1125
[INFO: run_prediction.py:  286]: T1 image input /output/1125/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1125/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1125
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1125 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1125 finished in 2.9406 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1125 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1125 finished in 2.7609 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1125 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1125 finished in 3.3116 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.1402 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1125
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.958613157272339 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1125/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1125/stats/hypothalamus.HypVINN.stats.
Calculation took 0.26 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.0909 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.1371 seconds.
Input:    min: 3  max: 165
rescale:  min: 3.0  max: 149.772  scale: 1.7373886027307661
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:39:02 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1161/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1161/mri/orig.mgz --brainmask_name /output/1161/mri/mask.mgz --aseg_name /output/1161/mri/aseg.auto_noCCseg.mgz --sid 1161 --seg_log /output/1161/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1161/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1161/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : True
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 -0.02 -0.02] [ 0.02 0.8 0.05] [ 0.02 -0.05 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6660000085830688
rescale:  min: 0.0  max: 1.5310540199279785  scale: 166.5519287242362
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1161/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8411 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8119 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6325 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1161/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  38236
  Found 1 connected component(s)!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1161/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1161/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 0.98
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1161/mri/orig.mgz --rescale /output/1161/mri/orig_nu.mgz --aseg /output/1161/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1161/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1161/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1161/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 167.62
- m: 0.6085
converting rescaled to UCHAR
writing PosixPath: /output/1161/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1161/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1161/stats/aseg+DKT.stats --normfile /output/1161/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1161 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1161/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1161/stats/aseg+DKT.stats.
Calculation took 2.42 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1161/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1161/mri/orig.mgz --cereb_segfile /output/1161/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1161/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1161/mri/orig_nu.mgz --cereb_statsfile /output/1161/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:40:15
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.79999995x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 -0.02 -0.02] [ 0.02 0.8 0.05] [ 0.02 -0.05 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6660000085830688
rescale:  min: 0.0  max: 1.5310540199279785  scale: 166.5519287242362
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1161/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.68 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1161 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1161/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1161/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1161
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1161
[INFO: run_prediction.py:  286]: T1 image input /output/1161/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1161/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1161
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1161 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1161 finished in 2.9141 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1161 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1161 finished in 2.7771 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1161 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1161 finished in 3.2480 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.0476 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1161
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.927737474441528 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1161/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1161/stats/hypothalamus.HypVINN.stats.
Calculation took 0.26 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 18.9932 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.0330 seconds.
Input:    min: 3  max: 162
rescale:  min: 3.0  max: 146.736  scale: 1.7740858240106865
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:40:45 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1198/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1198/mri/orig.mgz --brainmask_name /output/1198/mri/mask.mgz --aseg_name /output/1198/mri/aseg.auto_noCCseg.mgz --sid 1198 --seg_log /output/1198/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1198/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1198/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (239, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : True
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.79 0.14 0. ] [-0.14 0.79 0. ] [ 0. 0. 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6266999244689941
rescale:  min: 0.0  max: 1.53560471534729  scale: 166.0583595839829
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1198/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8017 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8464 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6307 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1198/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  34179
  Found 22 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1198/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1198/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.09
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1198/mri/orig.mgz --rescale /output/1198/mri/orig_nu.mgz --aseg /output/1198/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1198/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1198/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1198/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 254.24
- m: 0.4012
converting rescaled to UCHAR
writing PosixPath: /output/1198/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1198/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1198/stats/aseg+DKT.stats --normfile /output/1198/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1198 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1198/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1198/stats/aseg+DKT.stats.
Calculation took 3.66 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1198/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1198/mri/orig.mgz --cereb_segfile /output/1198/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1198/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1198/mri/orig_nu.mgz --cereb_statsfile /output/1198/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:42:00
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (239, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8000001x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.79 0.14 0. ] [-0.14 0.79 0. ] [ 0. 0. 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6266999244689941
rescale:  min: 0.0  max: 1.53560471534729  scale: 166.0583595839829
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1198/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 8.40 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1198 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1198/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1198/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1198
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1198
[INFO: run_prediction.py:  286]: T1 image input /output/1198/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1198/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1198
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1198 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1198 finished in 2.9298 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1198 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1198 finished in 2.7178 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1198 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1198 finished in 3.2617 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.0212 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1198
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 8.038013219833374 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1198/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1198/stats/hypothalamus.HypVINN.stats.
Calculation took 0.29 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.1235 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.1686 seconds.
Input:    min: 3  max: 157
rescale:  min: 3.0  max: 123.736  scale: 2.1120461171481577
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:42:32 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1218/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1218/mri/orig.mgz --brainmask_name /output/1218/mri/mask.mgz --aseg_name /output/1218/mri/aseg.auto_noCCseg.mgz --sid 1218 --seg_log /output/1218/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1218/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1218/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (228, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.7999768x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 0.07 0.04] [-0.07 0.8 -0. ] [-0.04 0. 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6664999723434448
rescale:  min: 0.0  max: 1.561510443687439  scale: 163.3034226769746
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1218/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8061 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8259 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6337 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1218/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  35442
  Found 8 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1218/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1218/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.11
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1218/mri/orig.mgz --rescale /output/1218/mri/orig_nu.mgz --aseg /output/1218/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1218/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1218/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1218/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 207.36
- m: 0.4919
converting rescaled to UCHAR
writing PosixPath: /output/1218/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1218/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1218/stats/aseg+DKT.stats --normfile /output/1218/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1218 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1218/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1218/stats/aseg+DKT.stats.
Calculation took 3.41 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1218/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1218/mri/orig.mgz --cereb_segfile /output/1218/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1218/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1218/mri/orig_nu.mgz --cereb_statsfile /output/1218/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:43:46
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (228, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.7999768x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 0.07 0.04] [-0.07 0.8 -0. ] [-0.04 0. 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6664999723434448
rescale:  min: 0.0  max: 1.561510443687439  scale: 163.3034226769746
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1218/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.51 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1218 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1218/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1218/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1218
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1218
[INFO: run_prediction.py:  286]: T1 image input /output/1218/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1218/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1218
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1218 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1218 finished in 2.8926 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1218 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1218 finished in 2.7397 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1218 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1218 finished in 3.2478 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 9.9831 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1218
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.951212167739868 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1218/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1218/stats/hypothalamus.HypVINN.stats.
Calculation took 0.26 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 18.9476 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 18.9874 seconds.
Input:    min: 3  max: 156
rescale:  min: 3.0  max: 142.84199999999998  scale: 1.8234865061998544
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:44:16 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1527/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1527/mri/orig.mgz --brainmask_name /output/1527/mri/mask.mgz --aseg_name /output/1527/mri/aseg.auto_noCCseg.mgz --sid 1527 --seg_log /output/1527/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1527/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1527/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.8000285x0.8x0.8000001
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 7.94e-01 8.29e-02 -5.22e-02] [-8.27e-02 7.96e-01 5.87e-03] [ 5.25e-02 -4.32e-04 7.98e-01]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6520999670028687
rescale:  min: 0.0  max: 1.4703689813613892  scale: 173.42585652473431
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1527/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8166 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8877 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6807 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1527/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  36640
  Found 29 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1527/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 4 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1527/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.04
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1527/mri/orig.mgz --rescale /output/1527/mri/orig_nu.mgz --aseg /output/1527/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1527/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1527/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1527/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 288.82
- m: 0.3532
converting rescaled to UCHAR
writing PosixPath: /output/1527/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1527/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1527/stats/aseg+DKT.stats --normfile /output/1527/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1527 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1527/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1527/stats/aseg+DKT.stats.
Calculation took 3.87 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1527/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1527/mri/orig.mgz --cereb_segfile /output/1527/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1527/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1527/mri/orig_nu.mgz --cereb_statsfile /output/1527/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:45:31
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8000285x0.8x0.8000001
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 7.94e-01 8.29e-02 -5.22e-02] [-8.27e-02 7.96e-01 5.87e-03] [ 5.25e-02 -4.32e-04 7.98e-01]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6520999670028687
rescale:  min: 0.0  max: 1.4703689813613892  scale: 173.42585652473431
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1527/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.90 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1527 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1527/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1527/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1527
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1527
[INFO: run_prediction.py:  286]: T1 image input /output/1527/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1527/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1527
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1527 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1527 finished in 2.9489 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1527 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1527 finished in 2.7144 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1527 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1527 finished in 3.2118 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.0238 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1527
[INFO: img_processing_utils.py:  230]: Check Optic Labels
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 8.005441188812256 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1527/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1527/stats/hypothalamus.HypVINN.stats.
Calculation took 0.28 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.0646 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.1149 seconds.
Input:    min: 3  max: 146
rescale:  min: 3.0  max: 121.83299999999998  scale: 2.1458685718613517
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:46:02 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1376/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1376/mri/orig.mgz --brainmask_name /output/1376/mri/mask.mgz --aseg_name /output/1376/mri/aseg.auto_noCCseg.mgz --sid 1376 --seg_log /output/1376/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1376/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1376/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (222, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.80001134x0.8000001x0.8000001
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 -0.07 0.01] [ 0.07 0.77 -0.19] [ 0.01 0.19 0.78]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6601999998092651
rescale:  min: 0.0  max: 1.5439859628677368  scale: 165.15694192347019
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1376/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8321 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8199 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.7262 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1376/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  41205
  Found 10 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1376/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1376/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.16
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1376/mri/orig.mgz --rescale /output/1376/mri/orig_nu.mgz --aseg /output/1376/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1376/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1376/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1376/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 236.45
- m: 0.4314
converting rescaled to UCHAR
writing PosixPath: /output/1376/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1376/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1376/stats/aseg+DKT.stats --normfile /output/1376/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1376 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1376/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1376/stats/aseg+DKT.stats.
Calculation took 3.37 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1376/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1376/mri/orig.mgz --cereb_segfile /output/1376/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1376/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1376/mri/orig_nu.mgz --cereb_statsfile /output/1376/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:47:17
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (222, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.80001134x0.8000001x0.8000001
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.8 -0.07 0.01] [ 0.07 0.77 -0.19] [ 0.01 0.19 0.78]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6601999998092651
rescale:  min: 0.0  max: 1.5439859628677368  scale: 165.15694192347019
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1376/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.58 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1376 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1376/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1376/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1376
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1376
[INFO: run_prediction.py:  286]: T1 image input /output/1376/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1376/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1376
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1376 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1376 finished in 2.9057 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1376 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1376 finished in 2.6829 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1376 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1376 finished in 3.2582 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 9.9151 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1376
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.865490198135376 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1376/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1376/stats/hypothalamus.HypVINN.stats.
Calculation took 0.27 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 18.7991 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 18.8410 seconds.
Input:    min: 3  max: 166
rescale:  min: 3.0  max: 149.70000000000002  scale: 1.7382413087934558
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:47:47 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/2075/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/2075/mri/orig.mgz --brainmask_name /output/2075/mri/mask.mgz --aseg_name /output/2075/mri/aseg.auto_noCCseg.mgz --sid 2075 --seg_log /output/2075/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/2075/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/2075/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (222, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.7999979x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6518999338150024
rescale:  min: 0.0  max: 1.5494821071624756  scale: 164.5711162595963
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/2075/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8191 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8945 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6570 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/2075/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  35466
  Found 1 connected component(s)!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/2075/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/2075/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.01
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/2075/mri/orig.mgz --rescale /output/2075/mri/orig_nu.mgz --aseg /output/2075/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/2075/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/2075/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/2075/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 214.58
- m: 0.4754
converting rescaled to UCHAR
writing PosixPath: /output/2075/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/2075/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/2075/stats/aseg+DKT.stats --normfile /output/2075/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 2075 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/2075/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/2075/stats/aseg+DKT.stats.
Calculation took 2.33 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/2075/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/2075/mri/orig.mgz --cereb_segfile /output/2075/mri/cerebellum.CerebNet.nii.gz --seg_log /output/2075/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/2075/mri/orig_nu.mgz --cereb_statsfile /output/2075/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:48:59
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (222, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.7999979x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6518999338150024
rescale:  min: 0.0  max: 1.5494821071624756  scale: 164.5711162595963
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/2075/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.25 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 2075 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/2075/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/2075/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 2075
[INFO: run_prediction.py:  285]: Output will be stored in: /output/2075
[INFO: run_prediction.py:  286]: T1 image input /output/2075/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/2075/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 2075
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 2075 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 2075 finished in 2.9274 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 2075 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 2075 finished in 2.7543 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 2075 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 2075 finished in 3.2312 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.0349 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/2075
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.9727394580841064 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/2075/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/2075/stats/hypothalamus.HypVINN.stats.
Calculation took 0.26 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 18.9584 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 18.9998 seconds.
Input:    min: 3  max: 158
rescale:  min: 3.0  max: 140.795  scale: 1.8505751297216881
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:49:29 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1023/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1023/mri/orig.mgz --brainmask_name /output/1023/mri/mask.mgz --aseg_name /output/1023/mri/aseg.auto_noCCseg.mgz --sid 1023 --seg_log /output/1023/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1023/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1023/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (210, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.7999922x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 7.98e-01 4.74e-02 3.43e-02] [-4.74e-02 7.99e-01 -2.16e-04] [-3.42e-02 -1.82e-03 7.99e-01]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6622999906539917
rescale:  min: 0.0  max: 1.5243290662765503  scale: 167.2867136378129
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1023/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8566 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8160 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6823 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1023/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  40063
  Found 6 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1023/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1023/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 1.09
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1023/mri/orig.mgz --rescale /output/1023/mri/orig_nu.mgz --aseg /output/1023/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1023/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1023/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1023/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 205.80
- m: 0.4956
converting rescaled to UCHAR
writing PosixPath: /output/1023/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1023/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1023/stats/aseg+DKT.stats --normfile /output/1023/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1023 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1023/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1023/stats/aseg+DKT.stats.
Calculation took 2.78 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1023/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1023/mri/orig.mgz --cereb_segfile /output/1023/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1023/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1023/mri/orig_nu.mgz --cereb_statsfile /output/1023/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:50:42
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (210, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.7999922x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 7.98e-01 4.74e-02 3.43e-02] [-4.74e-02 7.99e-01 -2.16e-04] [-3.42e-02 -1.82e-03 7.99e-01]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6622999906539917
rescale:  min: 0.0  max: 1.5243290662765503  scale: 167.2867136378129
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1023/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.56 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1023 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1023/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1023/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1023
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1023
[INFO: run_prediction.py:  286]: T1 image input /output/1023/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1023/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1023
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1023 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1023 finished in 3.0024 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1023 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1023 finished in 2.8199 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1023 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1023 finished in 3.2901 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.2980 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1023
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.9289023876190186 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1023/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1023/stats/hypothalamus.HypVINN.stats.
Calculation took 0.28 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.2525 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.2975 seconds.
Input:    min: 3  max: 159
rescale:  min: 3.0  max: 141.84  scale: 1.8366464995678478
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:51:13 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1038/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1038/mri/orig.mgz --brainmask_name /output/1038/mri/mask.mgz --aseg_name /output/1038/mri/aseg.auto_noCCseg.mgz --sid 1038 --seg_log /output/1038/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1038/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1038/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.800003x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.660499930381775
rescale:  min: 0.0  max: 1.5426044464111328  scale: 165.30485218894393
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1038/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.9528 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8095 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.7071 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1038/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  32556
  Found 28 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1038/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 0 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1038/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 0.86
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1038/mri/orig.mgz --rescale /output/1038/mri/orig_nu.mgz --aseg /output/1038/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1038/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1038/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1038/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 278.42
- m: 0.3664
converting rescaled to UCHAR
writing PosixPath: /output/1038/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1038/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1038/stats/aseg+DKT.stats --normfile /output/1038/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1038 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1038/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1038/stats/aseg+DKT.stats.
Calculation took 4.16 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1038/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1038/mri/orig.mgz --cereb_segfile /output/1038/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1038/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1038/mri/orig_nu.mgz --cereb_statsfile /output/1038/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:52:29
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (240, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.800003x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[0.8 0. 0. ] [0. 0.8 0. ] [0. 0. 0.8]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.660499930381775
rescale:  min: 0.0  max: 1.5426044464111328  scale: 165.30485218894393
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1038/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.94 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1038 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1038/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1038/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1038
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1038
[INFO: run_prediction.py:  286]: T1 image input /output/1038/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1038/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1038
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1038 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1038 finished in 2.9133 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1038 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1038 finished in 2.7709 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1038 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1038 finished in 3.3788 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 10.1120 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1038
[INFO: img_processing_utils.py:  232]: Check Hypothalamus Labels
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 7.981652736663818 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1038/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1038/stats/hypothalamus.HypVINN.stats.
Calculation took 0.58 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 19.4275 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 19.4684 seconds.
Input:    min: 3  max: 161
rescale:  min: 3.0  max: 142.83  scale: 1.8236429950654365
Output:   min: 0.0  max: 255.0
=========================================================
Start of the log for a new run_fastsurfer.sh invocation
=========================================================
Version: 2.4.2+7e53343
Fri May 23 16:53:00 UTC 2025

Log file for FastSurfer pipeline, run_fastsurfer.sh and segmentation(s)
python3.10 -s /fastsurfer/FastSurferCNN/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1098/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1098/mri/orig.mgz --brainmask_name /output/1098/mri/mask.mgz --aseg_name /output/1098/mri/aseg.auto_noCCseg.mgz --sid 1098 --seg_log /output/1098/scripts/deep-seg.log --vox_size min --batch_size 1 --viewagg_device auto --device auto --threads 4 --sd /output
[INFO: run_prediction.py:  647]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  979]: Output will be stored in Subjects Directory: /output
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: run_prediction.py:  245]: Running view aggregation on cuda
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_coronal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_sagittal_v2.0.0.pkl
[INFO: inference.py:  200]: Loading checkpoint /fastsurfer/checkpoints/aparc_vinn_axial_v2.0.0.pkl
[INFO: run_prediction.py:  324]: Successfully loaded image from /data/t1.nii.gz.
[INFO: run_prediction.py:  441]: Output image directory /output/1098/mri/orig does not exist. Creating it now...
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1098/mri/orig/001.mgz.
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A min-conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 300x300x300        : BUT image dimensions (222, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 0.8x0.8x0.8        : BUT image 0.8000344x0.8x0.79999995
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.79 -0.08 0.06] [ 0.08 0.8 0. ] [-0.06 0.01 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: run_prediction.py:  337]: Conforming image
Input:    min: 0.0  max: 1.6346999406814575
rescale:  min: 0.0  max: 1.5235403776168823  scale: 167.37331267771864
Output:   min: 0.0  max: 255.0
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1098/mri/orig.mgz.
[INFO: run_prediction.py:  400]: Run coronal prediction
[INFO: dataset.py:   78]: Loading Coronal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for coronal successful
[INFO: inference.py:  469]: Coronal inference on /data/t1.nii.gz finished in 2.8812 seconds
[INFO: run_prediction.py:  400]: Run sagittal prediction
[INFO: dataset.py:   69]: Loading Sagittal with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for sagittal successful
[INFO: inference.py:  469]: Sagittal inference on /data/t1.nii.gz finished in 2.8399 seconds
[INFO: run_prediction.py:  400]: Run axial prediction
[INFO: dataset.py:   74]: Loading Axial with input voxelsize (0.8, 0.8)
[INFO: inference.py:  408]: Inference on 300 batches for axial successful
[INFO: inference.py:  469]: Axial inference on /data/t1.nii.gz finished in 2.6734 seconds
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1098/mri/aparc.DKTatlas+aseg.deep.mgz.
[INFO: run_prediction.py:  724]: Creating brainmask based on segmentation...
Creating dilated mask ...
Frontal region special treatment:  32086
  Found 17 connected component(s)!
  Selecting largest component!
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1098/mri/mask.mgz.
[INFO: run_prediction.py:  743]: Creating aseg based on segmentation...
Reducing to aseg ...
FlipWM: rh 8 and lh 0 flipped.
[INFO: run_prediction.py:  454]: Successfully saved image   as /output/1098/mri/aseg.auto_noCCseg.mgz.
[INFO: run_prediction.py:  762]: Running volume-based QC check on segmentation...
Checking total volume ...
Voxel size in mm3: 0.5120000243186951
Total segmentation volume in liter: 0.93
INFO: Running N4 bias-field correction...
python3.10 -s /fastsurfer/recon_surf/N4_bias_correct.py --in /output/1098/mri/orig.mgz --rescale /output/1098/mri/orig_nu.mgz --aseg /output/1098/mri/aseg.auto_noCCseg.mgz --threads 4

N4 Bias Correction Parameters:

- verbosity: -1
- input volume: /output/1098/mri/orig.mgz
- output volume: do not save
- rescaled volume: /output/1098/mri/orig_nu.mgz
- mask: default (>0)
- aseg: /output/1098/mri/aseg.auto_noCCseg.mgz
- shrink factor: 4
- number fitting levels: 4
- number iterations: 50
- convergence threshold: 0.0
- threads: 4
read MGZ (FreeSurfer) image via nibabel...
executing N4 correction ...
- mask: ones (default)
normalize WM to 105.0 (find WM from aseg)
read MGZ (FreeSurfer) image via nibabel...
- source white matter intensity: 230.12
- m: 0.4432
converting rescaled to UCHAR
writing PosixPath: /output/1098/mri/orig_nu.mgz
write MGZ (FreeSurfer) image via nibabel...
python3.10 -s /fastsurfer/FastSurferCNN/segstats.py --segfile /output/1098/mri/aparc.DKTatlas+aseg.deep.mgz --segstatsfile /output/1098/stats/aseg+DKT.stats --normfile /output/1098/mri/orig_nu.mgz --threads 4 --empty --excludeid 0 --sd /output --sid 1098 --ids 2 4 5 7 8 10 11 12 13 14 15 16 17 18 24 26 28 31 41 43 44 46 47 49 50 51 52 53 54 58 60 63 77 251 252 253 254 255 1002 1003 1005 1006 1007 1008 1009 1010 1011 1012 1013 1014 1015 1016 1017 1018 1019 1020 1021 1022 1023 1024 1025 1026 1027 1028 1029 1030 1031 1034 1035 2002 2003 2005 2006 2007 2008 2009 2010 2011 2012 2013 2014 2015 2016 2017 2018 2019 2020 2021 2022 2023 2024 2025 2026 2027 2028 2029 2030 2031 2034 2035 --lut /fastsurfer/FastSurferCNN/config/FreeSurferColorLUT.txt measures --compute Mask(/output/1098/mri/mask.mgz) BrainSeg BrainSegNotVent SupraTentorial SupraTentorialNotVent SubCortGray rhCerebralWhiteMatter lhCerebralWhiteMatter CerebralWhiteMatter
None of the labels [251, 252, 253, 254, 255] for merged label 10007 exist in the segmentation.
Partial volume stats for 100 labels written to /output/1098/stats/aseg+DKT.stats.
Calculation took 3.33 seconds using up to 4 threads.
python3.10 -s /fastsurfer/CerebNet/run_prediction.py --t1 /data/t1.nii.gz --asegdkt_segfile /output/1098/mri/aparc.DKTatlas+aseg.deep.mgz --conformed_name /output/1098/mri/orig.mgz --cereb_segfile /output/1098/mri/cerebellum.CerebNet.nii.gz --seg_log /output/1098/scripts/deep-seg.log --async_io --batch_size 1 --viewagg_device auto --device auto --threads 4 --norm_name /output/1098/mri/orig_nu.mgz --cereb_statsfile /output/1098/stats/cerebellum.CerebNet.stats --sd /output
[INFO: run_prediction.py:  154]: Checking or downloading default checkpoints ...
[INFO: common.py:  820]: Single subject with absolute file path for input.
[INFO: common.py:  878]: Analyzing single subject /data/t1.nii.gz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  434]: 25-05-23_16:54:14
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (300, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8x0.8x0.8
[INFO: conform.py:  828]:  - Orientation LIA               : True
[INFO: conform.py:  828]:  - Dtype uint8                   : True
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  823]: The input image is not conformed.
[INFO: conform.py:  826]: A conformedconformed image must satisfy the following criteria:
[INFO: conform.py:  828]:  - Number of Dimensions 3        : True
[INFO: conform.py:  828]:  - Dimensions 256x256x256        : BUT image dimensions (222, 300, 300)
[INFO: conform.py:  828]:  - Voxel Size 1.0x1.0x1.0        : BUT image 0.8000344x0.8x0.79999995
[INFO: conform.py:  828]:  - Orientation LIA               : BUT strict: [[ 0.79 -0.08 0.06] [ 0.08 0.8 0. ] [-0.06 0.01 0.8 ]]
[INFO: conform.py:  828]:  - Dtype uint8                   : BUT dtype float32
[INFO: data_utils.py:  101]: Conforming image to UCHAR, RAS orientation, and minimum isotropic voxels
[INFO: conform.py:  978]: 
Input:    min: 0.0  max: 1.6346999406814575
rescale:  min: 0.0  max: 1.5235403776168823  scale: 167.37331267771864
Output:   min: 0.0  max: 255.0
[INFO: dataset.py:  260]: The conformed image and the segmentation do not share the same affine. The cerebellum mask is being resampled to localize it in the conformed image.
[INFO: inference.py:  357]: Saving CerebNet cerebellum segmentation at /output/1098/mri/cerebellum.CerebNet.nii.gz
[INFO: inference.py:  512]: Subject 1/1 with id 't1.nii.gz' processed in 7.64 sec.
python3.10 -s /fastsurfer/HypVINN/run_prediction.py --sd /output --sid 1098 --reg_mode coreg --threads 4 --async_io --batch_size 1 --seg_log /output/1098/scripts/deep-seg.log --device auto --viewagg_device auto --t1 /output/1098/mri/orig_nu.mgz
[INFO: mode_config.py:   49]: Setting up input mode...
[INFO: run_prediction.py:  437]: Checking or downloading default checkpoints ...
[INFO: run_prediction.py:  282]: Running HypVINN segmentation pipeline on subject 1098
[INFO: run_prediction.py:  285]: Output will be stored in: /output/1098
[INFO: run_prediction.py:  286]: T1 image input /output/1098/mri/orig_nu.mgz
[INFO: run_prediction.py:  287]: T2 image input None
[INFO: run_prediction.py:  306]: Setting up HypVINN run
[INFO: run_prediction.py:  311]: axial model configuration from /fastsurfer/HypVINN/config/HypVINN_axial_v1.1.0.yaml
[INFO: run_prediction.py:  311]: coronal model configuration from /fastsurfer/HypVINN/config/HypVINN_coronal_v1.1.0.yaml
[INFO: run_prediction.py:  311]: sagittal model configuration from /fastsurfer/HypVINN/config/HypVINN_sagittal_v1.1.0.yaml
[INFO: run_prediction.py:  505]: Loading T1 image from : /output/1098/mri/orig_nu.mgz
[INFO: common.py:  106]: Using device: cuda
[INFO: common.py:  106]: Using viewagg_device: cuda
[INFO: inference.py:  109]: Running view aggregation on cuda
[INFO: run_prediction.py:  340]: ------------------------------------------------------------------------------------------------------------------------
[INFO: run_prediction.py:  341]: Evaluating hypothalamus model on 1098
[INFO: run_prediction.py:  350]: Scale factor: (0.8, 0.8, 0.8)
[INFO: run_prediction.py:  609]: Evaluating axial model, cpkt :/fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_axial_v1.1.0.pkl
[INFO: dataset.py:  166]: Loading t1 axial with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1098 for axial model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  axial Model Testing Done.
[INFO: inference.py:  404]: axial Inference on 1098 finished in 2.8742 seconds
[INFO: run_prediction.py:  609]: Evaluating coronal model, cpkt :/fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_coronal_v1.1.0.pkl
[INFO: dataset.py:  160]: Loading t1 coronal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1098 for coronal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  coronal Model Testing Done.
[INFO: inference.py:  404]: coronal Inference on 1098 finished in 2.6920 seconds
[INFO: run_prediction.py:  609]: Evaluating sagittal model, cpkt :/fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: inference.py:  183]: Loading checkpoint /fastsurfer/checkpoints/HypVINN_sagittal_v1.1.0.pkl
[INFO: dataset.py:  153]: Loading t1 sagittal with input voxelsize (0.8, 0.8)
[INFO: dataset.py:  114]: Successfully loaded Image from 1098 for sagittal model
[INFO: dataset.py:  126]: For inference T1 block weight was set to: 1.0 and the T2 block was set to: 0.0
[INFO: inference.py:  345]: --->  sagittal Model Testing Done.
[INFO: inference.py:  404]: sagittal Inference on 1098 finished in 3.2523 seconds
[INFO: run_prediction.py:  363]: Model prediction finished in 9.8804 seconds
[INFO: run_prediction.py:  364]: Saving results in /output/1098
[INFO: img_processing_utils.py:  230]: Check Optic Labels
[INFO: img_processing_utils.py:   97]: Orig data orientation : ('L', 'I', 'A')
[INFO: img_processing_utils.py:  101]: HypVINN Mask orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  103]: HypVINN Mask after re-orientation: ('L', 'I', 'A')
[INFO: img_processing_utils.py:  109]: HypVINN Prediction orientation: ('R', 'A', 'S')
[INFO: img_processing_utils.py:  111]: HypVINN Prediction after re-orientation: ('L', 'I', 'A')
[INFO: run_prediction.py:  381]: Prediction successfully saved in 8.022917032241821 seconds.
[INFO: run_prediction.py:  395]: Computing stats
[INFO: brainvolstats.py: 1415]: Replacing segmentation volume to compute volume measures from with the segmentation file /output/1098/mri/hypothalamus.HypVINN.nii.gz.
Partial volume stats for 24 labels written to /output/1098/stats/hypothalamus.HypVINN.stats.
Calculation took 0.27 seconds using up to 4 threads.
[INFO: run_prediction.py:  405]: Processing segmentation finished in 18.9300 seconds.
[INFO: run_prediction.py:  416]: Processing whole pipeline finished in 18.9730 seconds.
Input:    min: 3  max: 162
rescale:  min: 3.0  max: 150.711  scale: 1.7263440095862865
Output:   min: 0.0  max: 255.0
1098
bash /home/srs-9/Projects/ms_mri/scripts/fastsurfer.sh 1098 /media/smbshare/3Tpioneer_bids/sub-ms1098/ses-20171105 /media/smbshare/srs-9/fastsurfer/sub1098-20171105
